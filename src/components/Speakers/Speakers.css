/* Section container */
.speakers {
    padding: 8rem 0;
    min-height: 150vh;
    overflow: hidden;
    position: relative;
    /* Base styles optimized for default desktop (e.g. 1366px - 1600px) */
}

/* Grid wrapper */
.speakers-grid {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0;
    display: grid;
    grid-template-rows: auto auto auto;
    gap: clamp(2rem, 4vw, 6rem);
    align-items: center;
}

/* Top row */
.row-top {
    display: flex;
    align-items: center;
    gap: clamp(0.5rem, 2vw, 1.25rem);
    /* Default excessive padding for desktop "artsy" layout */
    padding: 0 2rem 0 clamp(240px, 34vw, 520px);
    flex-wrap: wrap;
}

.crab-flow {
    position: absolute;
    left: -1rem;
    top: clamp(16px, 2.5vw, 28px);
    width: clamp(280px, 36vw, 760px);
    height: auto;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    z-index: 1;
}

.speakers-title {
    flex: 1 1 auto;
    font-size: clamp(64px, 8.5vw, 180px);
    font-weight: 800;
    font-family: "Pixelify Sans", "Courier New", monospace;
    letter-spacing: 0;
    line-height: 1;
    text-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.star-title {
    flex: 0 0 auto;
    width: clamp(44px, 5.5vw, 100px);
    height: auto;
    image-rendering: pixelated;
    animation: floatingBubble 1.8s ease-in-out infinite;
}

/* Middle Row (Bubbles) */
.row-middle {
    display: flex;
    justify-content: center;
    margin-top: 3rem;
    padding-left: 7rem; /* Default desktop offset */
    position: relative;
    z-index: 3;
}

.speaker-text {
    display: contents;
}

/* Base Bubble Properties (Desktop) */
.bubbles-wrap {
    /* Default width for 1440px+ screens */
    --bubble-w: clamp(600px, 52vw, 1200px);
}

.bubbles-center {
    width: var(--bubble-w);
}

/* Speaker Info Locations (Desktop Defaults) */
.speaker-photo {
    position: absolute;
    left: 30%;
    top: 30%;
    transform: translate(-50%, -50%);
    width: calc(var(--bubble-w) * 0.27);
    height: calc(var(--bubble-w) * 0.27);
    border-radius: 50%;
    object-fit: cover;
    clip-path: circle(50% at 50% 50%);
    border: 8px solid rgba(88, 139, 214, 0.9);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25);
    z-index: 2;
}

.speaker-name {
    position: absolute;
    left: 63%;
    top: 42%;
    transform: translate(-50%, -50%);
    font-size: clamp(18px, 3.5vw, 36px);
    font-weight: 700;
    color: #1e5a67;
    font-family: inherit;
    margin: 0;
    text-align: center;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    width: 25%;
    z-index: 2;
}

.speaker-description {
    position: absolute;
    left: 35%;
    top: 70%;
    transform: translate(-50%, -50%);
    /* Globally reduced font size */
    font-size: clamp(12px, 1.8vw, 18px);
    font-weight: 500;
    color: #1e5a67;
    font-family: inherit;
    margin: 0;
    text-align: center;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    width: 30%;
    z-index: 2;
}

/* Bottom Row */
.row-bottom {
    position: relative;
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    padding: 0 2rem;
    margin-top: -7rem;
    z-index: 2;
}

.star-flow {
    flex: 0 0 auto;
    width: clamp(48px, 6vw, 120px);
    height: auto;
    image-rendering: pixelated;
    animation: floatingBubble 1.8s ease-in-out infinite;
}

.kelp-wrap {
    position: relative;
    right: auto;
    bottom: auto;
    margin-left: auto;
    display: inline-block;
    --kelp-w: clamp(140px, 14vw, 260px);
    width: var(--kelp-w);
    height: calc(var(--kelp-w) * 1.08);
}

.kelp-flow {
    position: absolute;
    right: 0;
    bottom: 0;
    width: var(--kelp-w);
    height: auto;
    image-rendering: pixelated;
    display: block;
    --kelp-lift: calc(var(--kelp-w) * -0.8);
    transform-origin: 50% 100%;
    will-change: transform, opacity;
    animation: kelpTwoFrame 1.1s steps(2, end) infinite;
}

.kelp-flow-overlay {
    opacity: 0.58;
    filter: brightness(1.15);
    transform-origin: 52% 100%;
    animation: kelpTwoFrameOverlay 1.1s steps(2, end) infinite;
    animation-delay: -0.55s;
}

.bottom-rock {
    position: absolute;
    right: calc(var(--kelp-w) * -0.45);
    bottom: calc(var(--kelp-w) * -0.62);
    width: calc(var(--kelp-w) * 4.1);
    height: auto;
    image-rendering: pixelated;
}

@keyframes kelpTwoFrame {
    0%,
    49.999% {
        transform: translateY(var(--kelp-lift)) translateX(0) rotate(0deg);
    }
    50%,
    100% {
        transform: translateY(calc(var(--kelp-lift) - 2.1%)) translateX(-2.4%) rotate(-1.8deg);
    }
}

@keyframes kelpTwoFrameOverlay {
    0%,
    49.999% {
        transform: translateY(var(--kelp-lift)) translateX(0) rotate(0deg) scale(1.01);
        opacity: 0.55;
    }
    50%,
    100% {
        transform: translateY(calc(var(--kelp-lift) - 2.4%)) translateX(2.2%) rotate(1.9deg) scale(1.02);
        opacity: 0.5;
    }
}

@keyframes floatingBubble {
    0%,
    100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-8px);
    }
}


/* 1. Ultra-Wide Screens (Min 1600px) */
@media screen and (min-width: 1600px) {
    .speakers {
        min-height: 160vh;
    }
    .speakers-title {
        font-size: clamp(120px, 7vw, 220px);
    }
    .bubbles-wrap {
        --bubble-w: clamp(600px, 52vw, 1200px);
    }
    .speaker-photo {
        right: clamp(120px, 16vw, 280px);
        top: 27%;
        width: clamp(220px, 18vw, 360px);
        height: clamp(220px, 18vw, 360px);
    }
    .speaker-description {
        font-size: clamp(14px, 1.2vw, 18px); /* Fix: Reduce max font size */
        width: 32%;
        line-height: 1.4;
    }
}

/* 2. Large Desktop / Small Ultra (1367px - 1599px) */
@media screen and (min-width: 1367px) and (max-width: 1599px) {
    .bubbles-wrap {
        --bubble-w: clamp(700px, 45vw, 650px);
    }

    .speaker-photo {
        left: 30%;
        top: 28%;
        /* Fix: Standardize size to avoid giant/tiny mismatch */
        width: calc(var(--bubble-w) * 0.27);
        height: calc(var(--bubble-w) * 0.27);
    }

    .speaker-name {
        font-size: clamp(20px, 2vw, 28px);
    }

    .speaker-description {
        font-size: clamp(12px, 1.5vw, 16px);
    }
}

/* 3. Mid-tier / Tablet Landscape / Laptop (769px - 1366px) */
@media screen and (min-width: 769px) and (max-width: 1366px) {
    .speakers {
        padding: 6rem 0;
        min-height: auto;
    }
    .speakers-grid {
        gap: 3rem;
    }

    /* Fix: Center the title */
    .row-top {
        padding: 0 2rem;
        justify-content: center;
        text-align: center;
    }
    .speakers-title {
        text-align: center;
        flex: 0 0 auto;
        font-size: clamp(48px, 6vw, 96px);
    }

    /* Fix: Reset offset */
    .row-middle {
        padding-left: 0;
        margin-top: 2rem;
    }

    /* Fix: Smaller Bubble Asset */
    .bubbles-wrap {
        --bubble-w: clamp(580px, 45vw, 1000px);
    }

    /* Fix: Larger Speaker Images relative to bubble */
    .speaker-photo {
        left: 29%;
        top: 28%;
        width: calc(var(--bubble-w) * 0.32);
        height: calc(var(--bubble-w) * 0.32);
    }
    .speaker-name {
        left: 67%;
        top: 40%;
        width: 35%;
        font-size: clamp(16px, 2.5vw, 24px);
    }
    .speaker-description {
        left: 35%;
        top: 69%;
        width: 38%;
        font-size: clamp(10px, 1.8vw, 15px);
        line-height: 1.3;
    }

    /* Bottom decorations */
    .kelp-wrap {
        --kelp-w: clamp(130px, 18vw, 200px);
    }
    .kelp-flow,
    .kelp-flow-overlay {
        --kelp-lift: calc(var(--kelp-w) * -0.6);
    }
    .bottom-rock {
        right: calc(var(--kelp-w) * -0.4);
        bottom: calc(var(--kelp-w) * -0.5);
    }
}

/* 4. Tablet Portrait / Mobile (Max 768px) */
@media screen and (max-width: 768px) {
    .speakers {
        padding: 6rem 0; /* equal top/bottom on small screens */
        min-height: auto; /* let height be content-driven */
    }

    .row-top {
        padding: 0 1rem 0 clamp(160px, 48vw, 280px);
        justify-content: space-between;
    }

    .speakers-title {
        font-size: clamp(32px, 9vw, 72px);
        text-align: left;
    }

    .star-title {
        width: clamp(36px, 7vw, 70px);
    }

    /* Reset desktop padding */
    .row-middle {
        padding-left: 0;
    }

    .crab-flow {
        left: -0.75rem;
        top: clamp(8px, 2.5vw, 16px);
        /* Reduce width to prevent title overlap between 500-768px */
        width: clamp(160px, 40vw, 360px);
    }

    .bubbles-wrap {
        --bubble-w: clamp(300px, 90vw, 540px);
    }
    .bubbles-center {
        width: var(--bubble-w);
    }

    /* Mobile Positions - Optimized for iPhone 11 */
    .speaker-photo {
        left: 30%;
        top: 30%;
        width: calc(var(--bubble-w) * 0.27);
        height: calc(var(--bubble-w) * 0.27);
    }
    .speaker-name {
        left: 67%;
        top: 40%;
        font-size: clamp(14px, 4vw, 20px);
        width: 35%;
    }
    .speaker-description {
        top: 70%;
        left: 34%;
        /* Reduced font size as requested */
        font-size: clamp(8px, 2.2vw, 11px);
    }

    .row-bottom {
        margin-top: -4rem;
        padding: 0 1rem;
    }

    .kelp-wrap {
        --kelp-w: clamp(115px, 28vw, 175px);
    }

    .kelp-flow,
    .kelp-flow-overlay {
        --kelp-lift: calc(var(--kelp-w) * -0.54);
    }
}

/* 5. Extra Small Devices (Max 500px) */
@media screen and (max-width: 500px) {
    .speakers-title {
        font-size: clamp(28px, 10.5vw, 56px);
    }
}

/* 6. Small Phone (Max 420px) */
@media screen and (max-width: 420px) {
    .speakers {
        padding: 5rem 0;
        min-height: auto;
    }
    .kelp-wrap {
        --kelp-w: clamp(100px, 26vw, 180px);
        margin-left: auto;
    }
    .kelp-flow,
    .kelp-flow-overlay {
        --kelp-lift: calc(var(--kelp-w) * -0.5);
    }
    .bottom-rock {
        right: calc(var(--kelp-w) * -0.4);
        bottom: calc(var(--kelp-w) * -0.56);
        width: calc(var(--kelp-w) * 3.1);
    }
}