/* Section container */
.speakers {
    padding: 8rem 0; /* equal top/bottom */

    min-height: 150vh;
    overflow: hidden; /* clip overhanging decorations */
    position: relative; /* anchor absolute crab */
}

/* Grid wrapper for three rows */
.speakers-grid {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0;
    display: grid;
    grid-template-rows: auto auto auto;
    gap: clamp(2rem, 4vw, 6rem);
    align-items: center;
}

/* Top row: title and star; we reserve space on the left for the crab */
.row-top {
    display: flex;
    align-items: center;
    gap: clamp(0.5rem, 2vw, 1.25rem);
    padding: 0 2rem 0 clamp(240px, 34vw, 520px); /* room for crab */
    flex-wrap: wrap;
}

/* Crab pinned to left viewport edge, responsive size */
.crab-flow {
    position: absolute;
    left: -1rem; /* slightly off-screen to the left */
    top: clamp(16px, 2.5vw, 28px);
    width: clamp(280px, 36vw, 760px);
    height: auto;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    z-index: 1;
}

/* Title takes remaining space; star hugs right */
.speakers-title {
    flex: 1 1 auto;
    font-size: clamp(64px, 8.5vw, 180px);
    font-weight: 800;
    font-family: "Pixelify Sans", "Courier New", monospace;
    letter-spacing: 0;
    line-height: 1;
    text-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.star-title {
    flex: 0 0 auto;
    width: clamp(44px, 5.5vw, 100px);
    height: auto;
    image-rendering: pixelated;
    animation: floatingBubble 1.8s ease-in-out infinite;
}

/* Middle row: centered bubbles */
.row-middle {
    display: flex;
    justify-content: center;
    margin-top: 3rem;
    padding-left: 7rem; /* Shift content slightly right visually */
}

.speaker-text {
    /* Removed wrapper positioning since children are now absolute */
    display: contents;
}

/* 1. Speaker Photo -> Top Left Bubble */
.speaker-photo {
    position: absolute;
    /* Move to Top Left Bubble */
    left: 30%;
    transform: translate(-50%, -60%);
    width: calc(var(--bubble-w) * 0.27);
    height: calc(var(--bubble-w) * 0.27);
    border-radius: 50%;
    object-fit: cover;
    clip-path: circle(50% at 50% 50%);
    border: 8px solid rgba(88, 139, 214, 0.9);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25);
    z-index: 2;
}

/* 2. Speaker Name -> Middle Right Bubble */
.speaker-name {
    position: absolute;
    /* Move to Middle Right Bubble */
    left: 63%;
    top: 42%;
    transform: translate(-50%, -50%);

    font-size: clamp(18px, 3.5vw, 36px);
    font-weight: 700;
    color: #1e5a67;
    font-family: inherit;
    margin: 0;
    text-align: center;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    width: 25%;
    z-index: 2;
}

/* 3. Speaker Description -> Bottom Left Bubble */
.speaker-description {
    position: absolute;
    /* Move to Bottom Left Bubble */
    left: 35%;
    top: 70%;
    transform: translate(-50%, -50%);

    font-size: clamp(13px, 2.1vw, 22px);
    font-weight: 500;
    color: #1e5a67;
    font-family: inherit;
    margin: 0;
    text-align: center;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    width: 30%;
    z-index: 2;
}

/* Bottom row: star + kelp on the sides */
.row-bottom {
    position: relative;
    display: flex;
    justify-content: space-between; /* star on left, kelp on right */
    align-items: flex-end;
    padding: 0 2rem;
    margin-top: -7rem;
}

.star-flow {
    flex: 0 0 auto;
    width: clamp(48px, 6vw, 120px);
    height: auto;
    image-rendering: pixelated;
    animation: floatingBubble 1.8s ease-in-out infinite;
}

/* Kelp + Rock group (responsive composite) */
.kelp-wrap {
    position: relative; /* participate in flex flow */
    right: auto;
    bottom: auto;
    margin-left: auto; /* stick to the right side */
    display: inline-block;
    --kelp-w: clamp(140px, 14vw, 260px);
    width: var(--kelp-w);
    height: calc(
        var(--kelp-w) * 1.08
    ); /* smaller canvas to reduce bottom gap */
}

/* Kelp on baseline at right edge - responsive vertical lift */
.kelp-flow {
    position: absolute;
    right: 0;
    bottom: 0;
    width: var(--kelp-w);
    height: auto;
    image-rendering: pixelated;
    display: block;
    transform: translateY(calc(var(--kelp-w) * -0.8));
}

/* Rock anchored proportionally to kelp */
.bottom-rock {
    position: absolute;
    right: calc(var(--kelp-w) * -0.45);
    bottom: calc(var(--kelp-w) * -0.62);
    width: calc(var(--kelp-w) * 4.1);
    height: auto;
    image-rendering: pixelated;
}

/* Phones and small screens */
@media screen and (max-width: 768px) {
    .speakers {
        padding: 6rem 0; /* equal top/bottom on small screens */
        min-height: auto; /* let height be content-driven */
    }

    .row-top {
        padding: 0 1rem 0 clamp(160px, 48vw, 280px);
        justify-content: space-between;
    }

    .crab-flow {
        left: -0.75rem; /* keep peeking from the left on small screens */
        top: clamp(8px, 2.5vw, 16px);
        width: clamp(200px, 55vw, 420px);
    }

    .speakers-title {
        font-size: clamp(32px, 9vw, 72px);
        text-align: left;
    }

    .star-title {
        width: clamp(36px, 7vw, 70px);
    }

    /* Removed .speaker-description override to let it inherit % position */

    .bubbles-center {
        width: var(--bubble-w);
    }

    .bubbles-wrap {
        --bubble-w: clamp(300px, 90vw, 540px);
    }

    .row-middle {
        padding-left: 0; /* Reset desktop padding */
    }

    /* Mobile Positions - Optimized for iPhone 11 (375px) */
    .speaker-photo {
        left: 30%;
        top: 30%;
        width: calc(var(--bubble-w) * 0.27);
        height: calc(var(--bubble-w) * 0.27);
    }

    .speaker-name {
        left: 67%;
        top: 40%;
        font-size: clamp(14px, 4vw, 20px);
        width: 35%;
    }

    .speaker-description {
        top: 70%;
        left: 34%;
        font-size: clamp(8px, 2.4vw, 11px); /* Further reduced font size */
        width: 38% !important; /* Force width */
        line-height: 1.2;
    }

    .row-bottom {
        justify-content: center;
        gap: 1.25rem;
        padding: 0 1rem;
    }

    .star-flow {
        width: clamp(36px, 8vw, 68px);
    }

    .kelp-flow {
        width: clamp(90px, 18vw, 160px);
        transform: translateY(-130px); /* smaller lift on small screens */
    }
    .bottom-rock {
        width: calc(1.25 * (clamp(90px, 18vw, 160px)));
        right: 0;
        bottom: -40px;
    }
    .kelp-wrap {
        transform: translateY(0);
    }
}

@media screen and (max-width: 480px) {
    .speakers-title {
        font-size: clamp(28px, 10.5vw, 56px);
    }
}

/* Ultra-wide screens */
@media screen and (min-width: 1600px) {
    .speakers {
        min-height: 160vh;
    }
    .speakers-title {
        font-size: clamp(120px, 7vw, 220px);
    }
    .bubbles-center {
        width: clamp(600px, 52vw, 1200px);
    }
    .speaker-photo {
        right: clamp(120px, 16vw, 280px);
        top: clamp(140px, 18vw, 320px);
        width: clamp(220px, 18vw, 360px);
        height: clamp(220px, 18vw, 360px);
    }
}

@media screen and (max-width: 1024px) {
    .kelp-wrap {
        --kelp-w: clamp(120px, 16vw, 230px);
    }
    .kelp-flow {
        transform: translateY(calc(var(--kelp-w) * -0.56));
    }
    .bottom-rock {
        right: calc(var(--kelp-w) * -0.44);
        bottom: calc(var(--kelp-w) * -0.6);
        width: calc(var(--kelp-w) * 3.8);
    }
}

@media screen and (max-width: 768px) {
    .row-bottom {
        padding: 0 1rem;
    }
    .kelp-wrap {
        --kelp-w: clamp(110px, 22vw, 200px);
        margin-left: auto;
    }
    .kelp-flow {
        transform: translateY(calc(var(--kelp-w) * -0.54));
    }
    .bottom-rock {
        right: calc(var(--kelp-w) * -0.42);
        bottom: calc(var(--kelp-w) * -0.58);
        width: calc(var(--kelp-w) * 3.4);
    }
}

@media screen and (max-width: 420px) {
    .speakers {
        padding: 5rem 0; /* equal top/bottom for very small phones */
        min-height: auto; /* avoid forced empty space */
    }
    .kelp-wrap {
        --kelp-w: clamp(100px, 26vw, 180px);
        margin-left: auto;
    }
    .kelp-flow {
        transform: translateY(calc(var(--kelp-w) * -0.5));
    }
    .bottom-rock {
        right: calc(var(--kelp-w) * -0.4);
        bottom: calc(var(--kelp-w) * -0.56);
        width: calc(var(--kelp-w) * 3.1);
    }
}
